<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Order_events (gemini.Gemini__.Order_events)</title><link rel="stylesheet" href="../../../odoc.css"/><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> â€“ <a href="../../index.html">gemini</a> &#x00BB; <a href="../index.html">Gemini__</a> &#x00BB; Order_events</nav><h1>Module <code>Gemini__.Order_events</code></h1></header><aside><p>Order events web sockets api for the gemini trading exchange. This is used to get private events about orders and trades without having to depend on the slower and clumsier json REST api. Users still must submit orders using REST, however. This is only for responses.</p></aside><div class="spec module" id="module-Request"><a href="#module-Request" class="anchor"></a><code><span class="keyword">module </span>Request = <a href="../Nonce/index.html#module-Request">Gemini__.Nonce.Request</a></code></div><dl><dt class="spec type" id="type-uri_args"><a href="#type-uri_args" class="anchor"></a><code><span class="keyword">type </span>uri_args</code><span class="keyword"> = </span><code>[ </code><table class="variant"><tr id="type-uri_args.None" class="anchored"><td class="def constructor"><a href="#type-uri_args.None" class="anchor"></a><code><span class="keyword">| </span></code><code>`None</code></td></tr></table><code> ]</code></dt><dd><p>The order events api has no uri arguments .</p></dd></dl><div><div class="spec include"><div class="doc"><details open="open"><summary><span class="def"><code><span class="keyword">include </span><span class="keyword">sig</span> ... <span class="keyword">end</span></code></span></summary><dl><dt class="spec value" id="val-uri_args_of_sexp"><a href="#val-uri_args_of_sexp" class="anchor"></a><code><span class="keyword">val </span>uri_args_of_sexp : Ppx_sexp_conv_lib.Sexp.t <span>&#45;&gt;</span> <a href="index.html#type-uri_args">uri_args</a></code></dt><dt class="spec value" id="val-__uri_args_of_sexp__"><a href="#val-__uri_args_of_sexp__" class="anchor"></a><code><span class="keyword">val </span>__uri_args_of_sexp__ : Ppx_sexp_conv_lib.Sexp.t <span>&#45;&gt;</span> <a href="index.html#type-uri_args">uri_args</a></code></dt><dt class="spec value" id="val-sexp_of_uri_args"><a href="#val-sexp_of_uri_args" class="anchor"></a><code><span class="keyword">val </span>sexp_of_uri_args : <a href="index.html#type-uri_args">uri_args</a> <span>&#45;&gt;</span> Ppx_sexp_conv_lib.Sexp.t</code></dt><dt class="spec value" id="val-all_of_uri_args"><a href="#val-all_of_uri_args" class="anchor"></a><code><span class="keyword">val </span>all_of_uri_args : <a href="index.html#type-uri_args">uri_args</a> list</code></dt></dl></details></div></div></div><dl><dt class="spec module" id="module-Message_type"><a href="#module-Message_type" class="anchor"></a><code><span class="keyword">module </span><a href="Message_type/index.html">Message_type</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></dt><dd><p>Represents order message types supported by the Gemini exchange</p></dd></dl><dl><dt class="spec type" id="type-heartbeat"><a href="#type-heartbeat" class="anchor"></a><code><span class="keyword">type </span>heartbeat</code><code><span class="keyword"> = </span></code><code>{</code><table class="record"><tr id="type-heartbeat.timestampms" class="anchored"><td class="def field"><a href="#type-heartbeat.timestampms" class="anchor"></a><code>timestampms : <a href="../../Gemini__Common/Timestamp/Ms/index.html#type-t">Gemini__.Common.Timestamp.Ms.t</a>;</code></td></tr><tr id="type-heartbeat.sequence" class="anchored"><td class="def field"><a href="#type-heartbeat.sequence" class="anchor"></a><code>sequence : <a href="../../Gemini__Common/Int_number/index.html#type-t">Gemini__.Common.Int_number.t</a>;</code></td></tr><tr id="type-heartbeat.trace_id" class="anchored"><td class="def field"><a href="#type-heartbeat.trace_id" class="anchor"></a><code>trace_id : string;</code></td></tr><tr id="type-heartbeat.socket_sequence" class="anchored"><td class="def field"><a href="#type-heartbeat.socket_sequence" class="anchor"></a><code>socket_sequence : <a href="../../Gemini__Common/Int_number/index.html#type-t">Gemini__.Common.Int_number.t</a>;</code></td></tr></table><code>}</code></dt><dd><p>Response type for heart beat messages.</p></dd></dl><div><div class="spec include"><div class="doc"><details open="open"><summary><span class="def"><code><span class="keyword">include </span><span class="keyword">sig</span> ... <span class="keyword">end</span></code></span></summary><dl><dt class="spec value" id="val-heartbeat_of_sexp"><a href="#val-heartbeat_of_sexp" class="anchor"></a><code><span class="keyword">val </span>heartbeat_of_sexp : Ppx_sexp_conv_lib.Sexp.t <span>&#45;&gt;</span> <a href="index.html#type-heartbeat">heartbeat</a></code></dt><dt class="spec value" id="val-sexp_of_heartbeat"><a href="#val-sexp_of_heartbeat" class="anchor"></a><code><span class="keyword">val </span>sexp_of_heartbeat : <a href="index.html#type-heartbeat">heartbeat</a> <span>&#45;&gt;</span> Ppx_sexp_conv_lib.Sexp.t</code></dt></dl></details></div></div></div><dl><dt class="spec value" id="val-heartbeat_to_yojson"><a href="#val-heartbeat_to_yojson" class="anchor"></a><code><span class="keyword">val </span>heartbeat_to_yojson : <a href="index.html#type-heartbeat">heartbeat</a> <span>&#45;&gt;</span> Yojson.Safe.json</code></dt><dt class="spec value" id="val-heartbeat_of_yojson"><a href="#val-heartbeat_of_yojson" class="anchor"></a><code><span class="keyword">val </span>heartbeat_of_yojson : Yojson.Safe.json <span>&#45;&gt;</span> <a href="index.html#type-heartbeat">heartbeat</a> Ppx_deriving_yojson_runtime.error_or</code></dt></dl><dl><dt class="spec module" id="module-Order_event_type"><a href="#module-Order_event_type" class="anchor"></a><code><span class="keyword">module </span><a href="Order_event_type/index.html">Order_event_type</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></dt><dd><p>Represents different order event types.</p></dd></dl><dl><dt class="spec type" id="type-query"><a href="#type-query" class="anchor"></a><code><span class="keyword">type </span>query</code><span class="keyword"> = </span><code>[ </code><table class="variant"><tr id="type-query.Symbol_filter" class="anchored"><td class="def constructor"><a href="#type-query.Symbol_filter" class="anchor"></a><code><span class="keyword">| </span></code><code>`Symbol_filter<span class="keyword"> of </span><a href="../../Gemini__Common/Symbol/index.html#type-t">Gemini__.Common.Symbol.t</a></code></td></tr><tr id="type-query.Event_type_filter" class="anchored"><td class="def constructor"><a href="#type-query.Event_type_filter" class="anchor"></a><code><span class="keyword">| </span></code><code>`Event_type_filter<span class="keyword"> of </span><a href="Order_event_type/index.html#type-t">Order_event_type.t</a></code></td></tr><tr id="type-query.Api_session_filter" class="anchored"><td class="def constructor"><a href="#type-query.Api_session_filter" class="anchor"></a><code><span class="keyword">| </span></code><code>`Api_session_filter<span class="keyword"> of </span>string</code></td></tr></table><code> ]</code></dt><dd><p>Events can be filtered by symbol using <code>Symbol_filter symbol</code> or for an event type using <code>Order_event_type_filter event_type</code> or using an api session filter <code>Api_session_filter session-id</code>.</p></dd></dl><div><div class="spec include"><div class="doc"><details open="open"><summary><span class="def"><code><span class="keyword">include </span><span class="keyword">sig</span> ... <span class="keyword">end</span></code></span></summary><dl><dt class="spec value" id="val-query_of_sexp"><a href="#val-query_of_sexp" class="anchor"></a><code><span class="keyword">val </span>query_of_sexp : Ppx_sexp_conv_lib.Sexp.t <span>&#45;&gt;</span> <a href="index.html#type-query">query</a></code></dt><dt class="spec value" id="val-__query_of_sexp__"><a href="#val-__query_of_sexp__" class="anchor"></a><code><span class="keyword">val </span>__query_of_sexp__ : Ppx_sexp_conv_lib.Sexp.t <span>&#45;&gt;</span> <a href="index.html#type-query">query</a></code></dt><dt class="spec value" id="val-sexp_of_query"><a href="#val-sexp_of_query" class="anchor"></a><code><span class="keyword">val </span>sexp_of_query : <a href="index.html#type-query">query</a> <span>&#45;&gt;</span> Ppx_sexp_conv_lib.Sexp.t</code></dt></dl></details></div></div></div><dl><dt class="spec module" id="module-Reason"><a href="#module-Reason" class="anchor"></a><code><span class="keyword">module </span><a href="Reason/index.html">Reason</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></dt><dd><p>Represents differents reasons an order event occurred.</p></dd></dl><div class="spec module" id="module-Reject_reason"><a href="#module-Reject_reason" class="anchor"></a><code><span class="keyword">module </span><a href="Reject_reason/index.html">Reject_reason</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></div><dl><dt class="spec module" id="module-Liquidity"><a href="#module-Liquidity" class="anchor"></a><code><span class="keyword">module </span><a href="Liquidity/index.html">Liquidity</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></dt><dd><p>Represents different liquidity types</p></dd></dl><dl><dt class="spec module" id="module-Fill"><a href="#module-Fill" class="anchor"></a><code><span class="keyword">module </span><a href="Fill/index.html">Fill</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></dt><dd><p>Type type of an order fill event.</p></dd></dl><dl><dt class="spec module" id="module-Api_session"><a href="#module-Api_session" class="anchor"></a><code><span class="keyword">module </span><a href="Api_session/index.html">Api_session</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></dt><dd><p>Represents an api session name</p></dd></dl><div class="spec module" id="module-Order_event"><a href="#module-Order_event" class="anchor"></a><code><span class="keyword">module </span><a href="Order_event/index.html">Order_event</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></div><dl><dt class="spec module" id="module-Subscription_ack"><a href="#module-Subscription_ack" class="anchor"></a><code><span class="keyword">module </span><a href="Subscription_ack/index.html">Subscription_ack</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></dt><dd><p>The response type for any order message.</p></dd></dl><dl><dt class="spec type" id="type-response"><a href="#type-response" class="anchor"></a><code><span class="keyword">type </span>response</code><span class="keyword"> = </span><code>[ </code><table class="variant"><tr id="type-response.Subscription_ack" class="anchored"><td class="def constructor"><a href="#type-response.Subscription_ack" class="anchor"></a><code><span class="keyword">| </span></code><code>`Subscription_ack<span class="keyword"> of </span><a href="Subscription_ack/index.html#type-t">Subscription_ack.t</a></code></td></tr><tr id="type-response.Heartbeat" class="anchored"><td class="def constructor"><a href="#type-response.Heartbeat" class="anchor"></a><code><span class="keyword">| </span></code><code>`Heartbeat<span class="keyword"> of </span><a href="index.html#type-heartbeat">heartbeat</a></code></td></tr><tr id="type-response.Order_event" class="anchored"><td class="def constructor"><a href="#type-response.Order_event" class="anchor"></a><code><span class="keyword">| </span></code><code>`Order_event<span class="keyword"> of </span><a href="Order_event/index.html#type-t">Order_event.t</a></code></td></tr><tr id="type-response.Order_events" class="anchored"><td class="def constructor"><a href="#type-response.Order_events" class="anchor"></a><code><span class="keyword">| </span></code><code>`Order_events<span class="keyword"> of </span><a href="Order_event/index.html#type-t">Order_event.t</a> list</code></td></tr></table><code> ]</code></dt><dd><p>The response type for any order message.</p></dd></dl><div><div class="spec include"><div class="doc"><details open="open"><summary><span class="def"><code><span class="keyword">include </span><span class="keyword">sig</span> ... <span class="keyword">end</span></code></span></summary><dl><dt class="spec value" id="val-response_of_sexp"><a href="#val-response_of_sexp" class="anchor"></a><code><span class="keyword">val </span>response_of_sexp : Ppx_sexp_conv_lib.Sexp.t <span>&#45;&gt;</span> <a href="index.html#type-response">response</a></code></dt><dt class="spec value" id="val-__response_of_sexp__"><a href="#val-__response_of_sexp__" class="anchor"></a><code><span class="keyword">val </span>__response_of_sexp__ : Ppx_sexp_conv_lib.Sexp.t <span>&#45;&gt;</span> <a href="index.html#type-response">response</a></code></dt><dt class="spec value" id="val-sexp_of_response"><a href="#val-sexp_of_response" class="anchor"></a><code><span class="keyword">val </span>sexp_of_response : <a href="index.html#type-response">response</a> <span>&#45;&gt;</span> Ppx_sexp_conv_lib.Sexp.t</code></dt></dl></details></div></div></div><div class="spec module" id="module-Event_type"><a href="#module-Event_type" class="anchor"></a><code><span class="keyword">module </span><a href="Event_type/index.html">Event_type</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></div><div><div class="spec include"><div class="doc"><details open="open"><summary><span class="def"><code><span class="keyword">include </span><a href="../Ws/index.html#module-type-CHANNEL">Gemini__.Ws.CHANNEL</a><span class="keyword"> with </span><span class="keyword">module </span><a href="../Ws/module-type-CHANNEL/Event_type/index.html">Event_type</a> := <a href="index.html#module-Event_type">Event_type</a><span class="keyword"> with </span><span class="keyword">type </span><a href="../Ws/module-type-CHANNEL/index.html#type-uri_args">uri_args</a> := <a href="index.html#type-uri_args">uri_args</a><span class="keyword"> with </span><span class="keyword">type </span><a href="../Ws/module-type-CHANNEL/index.html#type-query">query</a> := <a href="index.html#type-query">query</a><span class="keyword"> with </span><span class="keyword">type </span><a href="../Ws/module-type-CHANNEL/index.html#type-response">response</a> := <a href="index.html#type-response">response</a></code></span></summary><dl><dt class="spec value" id="val-name"><a href="#val-name" class="anchor"></a><code><span class="keyword">val </span>name : string</code></dt><dd><p>The name of the channel</p></dd></dl><dl><dt class="spec value" id="val-version"><a href="#val-version" class="anchor"></a><code><span class="keyword">val </span>version : string</code></dt><dd><p>The channel protocol version</p></dd></dl><dl><dt class="spec value" id="val-path"><a href="#val-path" class="anchor"></a><code><span class="keyword">val </span>path : string list</code></dt><dd><p>The uri path for this channel</p></dd></dl><dl><dt class="spec value" id="val-authentication"><a href="#val-authentication" class="anchor"></a><code><span class="keyword">val </span>authentication : [ `Private<span class="keyword"> | </span>`Public ]</code></dt><dd><p>Authentication syle for this channel. One of <code>`Private</code> or <code>`Public</code></p></dd></dl><dl><dt class="spec type" id="type-uri_args"><a href="#type-uri_args" class="anchor"></a><code><span class="keyword">type </span>uri_args</code></dt><dd><p>Uri arguments which are appended to the end of the path segment</p></dd></dl><div><div class="spec include"><div class="doc"><details open="open"><summary><span class="def"><code><span class="keyword">include </span><span class="keyword">sig</span> ... <span class="keyword">end</span></code></span></summary><dl><dt class="spec value" id="val-uri_args_of_sexp"><a href="#val-uri_args_of_sexp" class="anchor"></a><code><span class="keyword">val </span>uri_args_of_sexp : Ppx_sexp_conv_lib.Sexp.t <span>&#45;&gt;</span> <a href="index.html#type-uri_args">uri_args</a></code></dt><dt class="spec value" id="val-sexp_of_uri_args"><a href="#val-sexp_of_uri_args" class="anchor"></a><code><span class="keyword">val </span>sexp_of_uri_args : <a href="index.html#type-uri_args">uri_args</a> <span>&#45;&gt;</span> Ppx_sexp_conv_lib.Sexp.t</code></dt><dt class="spec value" id="val-all_of_uri_args"><a href="#val-all_of_uri_args" class="anchor"></a><code><span class="keyword">val </span>all_of_uri_args : <a href="index.html#type-uri_args">uri_args</a> list</code></dt></dl></details></div></div></div><dl><dt class="spec value" id="val-encode_uri_args"><a href="#val-encode_uri_args" class="anchor"></a><code><span class="keyword">val </span>encode_uri_args : <a href="index.html#type-uri_args">uri_args</a> <span>&#45;&gt;</span> string</code></dt><dd><p>Encder from well typed uri arguments to a string suitable for a uri.</p></dd></dl><dl><dt class="spec value" id="val-default_uri_args"><a href="#val-default_uri_args" class="anchor"></a><code><span class="keyword">val </span>default_uri_args : <a href="index.html#type-uri_args">uri_args</a> option</code></dt><dd><p>Defaut uri arguments. Optional for some channels.</p></dd></dl><dl><dt class="spec type" id="type-response"><a href="#type-response" class="anchor"></a><code><span class="keyword">type </span>response</code></dt><dd><p>Repsone type of the channel. Must have sexp converters and a yojson parser</p></dd></dl><div><div class="spec include"><div class="doc"><details open="open"><summary><span class="def"><code><span class="keyword">include </span><span class="keyword">sig</span> ... <span class="keyword">end</span></code></span></summary><dl><dt class="spec value" id="val-response_of_sexp"><a href="#val-response_of_sexp" class="anchor"></a><code><span class="keyword">val </span>response_of_sexp : Ppx_sexp_conv_lib.Sexp.t <span>&#45;&gt;</span> <a href="index.html#type-response">response</a></code></dt><dt class="spec value" id="val-sexp_of_response"><a href="#val-sexp_of_response" class="anchor"></a><code><span class="keyword">val </span>sexp_of_response : <a href="index.html#type-response">response</a> <span>&#45;&gt;</span> Ppx_sexp_conv_lib.Sexp.t</code></dt></dl></details></div></div></div><dl><dt class="spec value" id="val-response_of_yojson"><a href="#val-response_of_yojson" class="anchor"></a><code><span class="keyword">val </span>response_of_yojson : Yojson.Safe.json <span>&#45;&gt;</span> <a href="index.html#type-response">response</a> Ppx_deriving_yojson_runtime.error_or</code></dt></dl><div class="spec module" id="module-Event_type"><a href="#module-Event_type" class="anchor"></a><code><span class="keyword">module </span><a href="Event_type/index.html">Event_type</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></div><dl><dt class="spec module" id="module-Csv_of_event"><a href="#module-Csv_of_event" class="anchor"></a><code><span class="keyword">module </span><a href="Csv_of_event/index.html">Csv_of_event</a> : <a href="../Ws/index.html#module-type-CSV_OF_EVENTS">Gemini__.Ws.CSV_OF_EVENTS</a><span class="keyword"> with </span><span class="keyword">module </span><a href="../Ws/module-type-CSV_OF_EVENTS/Event_type/index.html">Event_type</a> = <a href="index.html#module-Event_type">Event_type</a></code></dt><dd><p>Given a response value produce csvable events modularized by event type.</p></dd></dl><dl><dt class="spec value" id="val-events_of_response"><a href="#val-events_of_response" class="anchor"></a><code><span class="keyword">val </span>events_of_response : <a href="index.html#type-response">response</a> <span>&#45;&gt;</span> <a href="Csv_of_event/index.html#type-t">Csv_of_event.t</a></code></dt><dd><p>Given a response value produce csvable events modularized by event type.</p></dd></dl><dl><dt class="spec type" id="type-query"><a href="#type-query" class="anchor"></a><code><span class="keyword">type </span>query</code></dt><dd><p>Query parameters for the channel</p></dd></dl><div><div class="spec include"><div class="doc"><details open="open"><summary><span class="def"><code><span class="keyword">include </span><span class="keyword">sig</span> ... <span class="keyword">end</span></code></span></summary><dl><dt class="spec value" id="val-query_of_sexp"><a href="#val-query_of_sexp" class="anchor"></a><code><span class="keyword">val </span>query_of_sexp : Ppx_sexp_conv_lib.Sexp.t <span>&#45;&gt;</span> <a href="index.html#type-query">query</a></code></dt><dt class="spec value" id="val-sexp_of_query"><a href="#val-sexp_of_query" class="anchor"></a><code><span class="keyword">val </span>sexp_of_query : <a href="index.html#type-query">query</a> <span>&#45;&gt;</span> Ppx_sexp_conv_lib.Sexp.t</code></dt></dl></details></div></div></div><dl><dt class="spec value" id="val-encode_query"><a href="#val-encode_query" class="anchor"></a><code><span class="keyword">val </span>encode_query : <a href="index.html#type-query">query</a> <span>&#45;&gt;</span> string<span class="keyword"> * </span>string</code></dt><dd><p>Encodes queries as an http header key value pair</p></dd></dl></details></div></div></div><dl><dt class="spec value" id="val-command"><a href="#val-command" class="anchor"></a><code><span class="keyword">val </span>command : string<span class="keyword"> * </span>Async.Command.t</code></dt><dt class="spec value" id="val-client"><a href="#val-client" class="anchor"></a><code><span class="keyword">val </span>client : nonce:int Async.Pipe.Reader.t <span>&#45;&gt;</span> (<span class="keyword">module </span><a href="../Cfg/module-type-S/index.html">Gemini__.Cfg.S</a>) <span>&#45;&gt;</span> ?&#8288;query:Async.Sexp.t list <span>&#45;&gt;</span> ?&#8288;uri_args:<a href="index.html#type-uri_args">uri_args</a> <span>&#45;&gt;</span> unit <span>&#45;&gt;</span> <a href="index.html#type-response">response</a> Async.Pipe.Reader.t Async.Deferred.t</code></dt></dl></div></body></html>